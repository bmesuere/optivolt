{
  "haUrl": "ws://homeassistant.local:8123/api/websocket",
  "haToken": "",
  "sensors": [
    { "id": "sensor.battery_charged", "name": "Battery Charge", "unit": "kWh" },
    { "id": "sensor.battery_discharged", "name": "Battery Discharge", "unit": "kWh" },
    { "id": "sensor.dsmr_reading_electricity_delivered_1", "name": "Grid Import", "unit": "kWh" },
    { "id": "sensor.dsmr_reading_electricity_delivered_2", "name": "Grid Import", "unit": "kWh" },
    { "id": "sensor.dsmr_reading_electricity_returned_1", "name": "Grid Export", "unit": "kWh" },
    { "id": "sensor.dsmr_reading_electricity_returned_2", "name": "Grid Export", "unit": "kWh" },
    { "id": "sensor.sma_energy", "name": "Solar Generation", "unit": "Wh" },
    { "id": "sensor.solis_energy", "name": "Solar Generation", "unit": "Wh" },
    { "id": "sensor.wallbox_energy", "name": "Wallbox Energy", "unit": "Wh" },
    { "id": "sensor.altherma_outdoor_energy", "name": "Heat Pump Energy", "unit": "Wh" }
  ],
  "derived": [
    {
      "name": "Total Load",
      "formula": ["+Solar Generation", "+Grid Import", "+Battery Discharge", "-Grid Export", "-Battery Charge"]
    },
    {
      "name": "Residual Load",
      "formula": ["+Total Load", "-Wallbox Energy", "-Heat Pump Energy"]
    },
    {
      "name": "Load without EV",
      "formula": ["+Total Load", "-Wallbox Energy"]
    }
  ],
  "activeConfig": {
    "sensor": "Total Load",
    "lookbackWeeks": 4,
    "dayFilter": "weekday-weekend",
    "aggregation": "mean"
  }
}
